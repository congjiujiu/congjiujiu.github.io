<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="简介最近微信小程序很火，于是趁机学了一下。然后做了个小的demo，实现了查看B站排行榜的功能。项目地址 https://github.com/congjiujiu/bilibiliRank由于没有appid，所以没法在微信里面预览。可以clone到本地然后在微信web开发工具里面看到项目。git clone https://github.com/congjiujiu/bilibiliRank.gi"><meta name="keywords" content="javascript,微信小程序"><meta property="og:type" content="article"><meta property="og:title" content="微信小程序实践-Bilibili排行榜"><meta property="og:url" content="http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/index.html"><meta property="og:site_name" content="Nighting99"><meta property="og:description" content="简介最近微信小程序很火，于是趁机学了一下。然后做了个小的demo，实现了查看B站排行榜的功能。项目地址 https://github.com/congjiujiu/bilibiliRank由于没有appid，所以没法在微信里面预览。可以clone到本地然后在微信web开发工具里面看到项目。git clone https://github.com/congjiujiu/bilibiliRank.gi"><meta property="og:image" content="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-1.png"><meta property="og:image" content="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-2.png"><meta property="og:image" content="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-3.png"><meta property="og:updated_time" content="2018-03-19T13:24:18.543Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="微信小程序实践-Bilibili排行榜"><meta name="twitter:description" content="简介最近微信小程序很火，于是趁机学了一下。然后做了个小的demo，实现了查看B站排行榜的功能。项目地址 https://github.com/congjiujiu/bilibiliRank由于没有appid，所以没法在微信里面预览。可以clone到本地然后在微信web开发工具里面看到项目。git clone https://github.com/congjiujiu/bilibiliRank.gi"><meta name="twitter:image" content="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-1.png"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><title>微信小程序实践-Bilibili排行榜</title><link rel="stylesheet" href="/css/style.css"></head><body class="max-width mx-auto px3"><div id="header-post"><a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fas fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/archives/">Writing</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="/2016/10/16/秋招的心酸经历/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class="icon" href="/2016/09/28/再探CSS性能-选择器-膨胀且昂贵的样式/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id="i-prev" class="info" style="display:none">Previous post</span> <span id="i-next" class="info" style="display:none">Next post</span> <span id="i-top" class="info" style="display:none">Back to top</span> <span id="i-share" class="info" style="display:none">Share post</span></span><br><div id="share" style="display:none"><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&text=微信小程序实践-Bilibili排行榜"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&is_video=false&description=微信小程序实践-Bilibili排行榜"><i class="fab fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=微信小程序实践-Bilibili排行榜&body=Check out this article: http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/"><i class="fas fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&name=微信小程序实践-Bilibili排行榜&description="><i class="fab fa-tumblr" aria-hidden="true"></i></a></li></ul></div><div id="toc"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建立项目"><span class="toc-number">2.</span> <span class="toc-text">建立项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加列表页"><span class="toc-number">3.</span> <span class="toc-text">添加列表页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#详情页"><span class="toc-number">4.</span> <span class="toc-text">详情页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TODO"><span class="toc-number">5.</span> <span class="toc-text">TODO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注"><span class="toc-number">6.</span> <span class="toc-text">注</span></a></li></ol></div></span></div><div class="content index my4"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">微信小程序实践-Bilibili排行榜</h1><div class="meta"><span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Nighting99</span></span><div class="postdate"><time datetime="2016-10-09T08:58:11.000Z" itemprop="datePublished">2016-10-09</time></div><div class="article-tag"><i class="fas fa-tag"></i> <a class="tag-link" href="/tags/javascript/">javascript</a>, <a class="tag-link" href="/tags/微信小程序/">微信小程序</a></div></div></header><div class="content" itemprop="articleBody"><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>最近微信小程序很火，于是趁机学了一下。然后做了个小的demo，实现了查看B站排行榜的功能。</p><p>项目地址 <a href="https://github.com/congjiujiu/bilibiliRank" target="_blank" rel="noopener">https://github.com/congjiujiu/bilibiliRank</a></p><p>由于没有appid，所以没法在微信里面预览。可以clone到本地然后在微信web开发工具里面看到项目。</p><ul><li>git clone <a href="https://github.com/congjiujiu/bilibiliRank.git" target="_blank" rel="noopener">https://github.com/congjiujiu/bilibiliRank.git</a> yourappname</li><li>cd yourappname</li><li>在微信web开发工具里面新建项目，地址选到刚clone的地址</li></ul><p>即可查看了。</p><p>效果gif可以看 <a href="https://github.com/congjiujiu/bilibiliRank/blob/master/readme.md" target="_blank" rel="noopener">github</a> 的演示！</p><h3 id="建立项目"><a href="#建立项目" class="headerlink" title="建立项目"></a>建立项目</h3><p>先创建初始页面，也就是两部分，顶上图片，以及下方列表。</p><p>用你喜爱的编辑器打开 <code>pages/index/index.js</code>，编辑一下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">//获取应用实例</span></span><br><span class="line"><span class="keyword">var</span> app = getApp()</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    bili: &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">0</span>,</span><br><span class="line">          name: <span class="string">'全区排行榜'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          name: <span class="string">'番剧排行榜'</span></span><br><span class="line">        &#125;, </span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">2</span>,</span><br><span class="line">          name: <span class="string">'原创视频排行榜'</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'onLoad'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>表明有三个列表项，然后就可以在<code>index.wxml</code>里面获得数据了</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--index.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"cmds"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">navigator</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;bili.list&#125;&#125;"</span> <span class="attr">url</span>=<span class="string">"../ranklist/ranklist?id=&#123;&#123;item.id&#125;&#125;"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"cmd-list"</span> <span class="attr">data-id</span>=<span class="string">"&#123;&#123;item.id&#125;&#125;"</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如上，一个header，通过设置<code>background-image</code>来设置头图，下方通过<code>wx:for</code>方法来循环生成一个列表。<code>navigator</code>标签，可以在点击的时候跳转到<code>url</code>指定的组件内。类似于原生的<code>a</code>标签。</p><p>然后设置一下css，在<code>app.wxss</code>内：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**app.wxss**/</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">font-family</span>: <span class="string">"Microsoft YaHei"</span>, Monaco;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">140px</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">	<span class="attribute">background-image</span>: <span class="built_in">url</span>(images/logo.jpg);</span><br><span class="line">	<span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是全局的样式，单独于这个页面的样式，放到组件对应的<code>wxss</code>内</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**index.wxss**/</span></span><br><span class="line"><span class="selector-class">.cmds</span> &#123;</span><br><span class="line">	<span class="attribute">margin-top</span>: <span class="number">40px</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cmds</span> <span class="selector-tag">navigator</span><span class="selector-pseudo">:first-child</span> <span class="selector-class">.cmd-list</span> &#123;</span><br><span class="line">	<span class="attribute">border-top</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cmd-list</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ok，在微信开发工具内，重启应用。就能看到下图所示的效果了：</p><p><img src="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-1.png" alt="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-1.png"></p><h3 id="添加列表页"><a href="#添加列表页" class="headerlink" title="添加列表页"></a>添加列表页</h3><p>在<code>pages</code>文件夹下，添加<code>ranklist</code>文件夹，内部加上应有的文件：</p><ul><li>ranklist.js</li><li>ranklist.wxss</li><li>ranklist.wxml</li><li>ranklist.json</li></ul><p>其中的<code>ranklist.json</code>文件，可以重定义<code>app.json</code>里定义的一些样式，比如顶部导航栏的文字，底部菜单栏等。</p><p>然后，在<code>app.json</code>里注册这个页面：</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">// app.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"pages"</span>:[</span><br><span class="line">    <span class="string">"pages/index/index"</span>,</span><br><span class="line">    <span class="string">"pages/ranklist/ranklist"</span></span><br><span class="line">  ],</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不加会报错滴~</p><p>打开<code>ranklist.js</code></p><p>由于有不同的排行，所以在<code>index</code>跳入的时候，传入了<code>id</code>参数，不同的排行榜对应不同的id，然后也从不同的<code>api</code>获取数据。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ranklist.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    videos: [],</span><br><span class="line">    url: [</span><br><span class="line">      <span class="string">"http://www.bilibili.com/index/rank/all-07.json"</span>,</span><br><span class="line">      <span class="string">"http://www.bilibili.com/index/rank/all-7-33.json"</span>,</span><br><span class="line">      <span class="string">"http://www.bilibili.com/index/rank/origin-07.json"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> rankType = params.id || <span class="keyword">this</span>.data.id;</span><br><span class="line"></span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="keyword">this</span>.data.url[rankType],</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (res.statusCode === <span class="number">200</span>) &#123;</span><br><span class="line">          that.setData(&#123;</span><br><span class="line">            videos: res.data.rank.list.slice(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>通过<code>params.id</code>来获取跳转时通过参数参入的id。</p><p><code>wx.request</code>可以发送异步请求，详见<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/api/network-request.html?t=1475052050838" target="_blank" rel="noopener">api</a></p><p>获取完数据之后，<code>data.videos</code>就会有值了，具体获取到的值，可以在微信开发工具 - AppData 内看到。</p><p>拿到数据之后，就可以在<code>ranklist.wxml</code>内，展示数据了：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ranklist.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">"video-list"</span> <span class="attr">scroll-y</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">navigator</span> <span class="attr">class</span>=<span class="string">"video-item"</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;videos&#125;&#125;"</span> <span class="attr">url</span>=<span class="string">"../video/video?aid=&#123;&#123;item.aid&#125;&#125;&amp;fav=&#123;&#123;item.favorites&#125;&#125;&amp;coins=&#123;&#123;item.coins&#125;&#125;&amp;typename=&#123;&#123;item.typename&#125;&#125;"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">"fav"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;item.pic&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"up"</span>&gt;</span>up主: &#123;&#123;item.author&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"more"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"play"</span>&gt;</span>播放: &#123;&#123;item.play&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"coins"</span>&gt;</span>硬币: &#123;&#123;item.coins&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里用到了<code>scroll-view</code>，是可滚动视图区域。</p><p>加上css：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**ranklist.wxss**/</span></span><br><span class="line"><span class="selector-class">.video-item</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">	<span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">	<span class="attribute">position</span>: relative;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">	<span class="attribute">border-top</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span> <span class="selector-class">.fav</span> &#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">	<span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span> <span class="selector-class">.info</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">80px</span>;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">140px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span> <span class="selector-class">.info</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">font-weight</span>: bold;</span><br><span class="line">	<span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span> <span class="selector-class">.info</span> <span class="selector-class">.up</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span> <span class="selector-class">.info</span> <span class="selector-class">.more</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span> <span class="selector-class">.info</span> <span class="selector-class">.more</span> <span class="selector-tag">view</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.video-item</span> <span class="selector-class">.info</span> <span class="selector-class">.more</span> <span class="selector-class">.coins</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: relative;</span><br><span class="line">	<span class="attribute">right</span>: -<span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重启应用，即可看到以下效果：</p><p><img src="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-2.png" alt="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-2.png"></p><h3 id="详情页"><a href="#详情页" class="headerlink" title="详情页"></a>详情页</h3><p>同上，建立<code>video</code>文件夹，同时建立对应的四个文件</p><ul><li>video.js</li><li>video.wxml</li><li>video.wxss</li><li>video.json</li></ul><p>然后注册这个页面</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">// app.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"pages"</span>:[</span><br><span class="line">    <span class="string">"pages/index/index"</span>,</span><br><span class="line">    <span class="string">"pages/ranklist/ranklist"</span>,</span><br><span class="line">    <span class="string">"pages/video/video"</span></span><br><span class="line">  ]</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>video.js</code>里面，获取传入的数据，因为有些数据通过发现的api拿不到，因此从之前的列表部分传过来。然后将数据放到<code>data.info</code>里面。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//video.js</span></span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    info: &#123;&#125;,</span><br><span class="line">    url: <span class="string">'http://app.bilibili.com/x/v2/search'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> aid = params.aid;</span><br><span class="line">    <span class="keyword">var</span> fav = params.fav;</span><br><span class="line">    <span class="keyword">var</span> coins = params.coins;</span><br><span class="line">    <span class="keyword">var</span> type = params.typename || <span class="string">'连载动画'</span>;</span><br><span class="line"></span><br><span class="line">    wx.setNavigationBarTitle(&#123;</span><br><span class="line">      title: <span class="string">'av'</span>+aid,</span><br><span class="line">      compelte: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="keyword">this</span>.data.url,</span><br><span class="line">      data: &#123;</span><br><span class="line">        keyword: <span class="string">'av'</span>+aid</span><br><span class="line">      &#125;,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (res.statusCode === <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="keyword">var</span> info = res.data.data.items.archive[<span class="number">0</span>];</span><br><span class="line">          info.fav = fav;</span><br><span class="line">          info.coins = coins;</span><br><span class="line">          info.type = type;</span><br><span class="line">          that.setData(&#123;</span><br><span class="line">            info: info</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>这里通过一个<code>query</code>的接口，查询到一部分视频的信息。同时接收列表页面传递过来的<code>id</code>等信息。</p><p><code>wx.setNavigationBarTitle</code>可以设置导航栏，但是不知道为啥没用。</p><p>数据ok，可以写xml了</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--video.wxml--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;info.cover&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>&#123;&#123;info.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"type"</span>&gt;</span>&#123;&#123;info.type&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"up"</span>&gt;</span>UP主: &#123;&#123;info.author&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"desc"</span>&gt;</span>&#123;&#123;info.desc&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info-list play"</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"icon icon-play"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info-text"</span>&gt;</span>&#123;&#123;info.play&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info-list danmu"</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"icon icon-danmu"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info-text"</span>&gt;</span>&#123;&#123;info.danmaku&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info-list coins"</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"icon icon-coins"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"info-text"</span>&gt;</span>&#123;&#123;info.coins&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>很简单的结构哈</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**video.wxss**/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">250px</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">background-image</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-tag">image</span> &#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">14px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">22px</span>;</span><br><span class="line">	<span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.type</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">display</span>: inline-block;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">6px</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">	<span class="attribute">background-color</span>: blue;</span><br><span class="line">	<span class="attribute">border</span>: none;</span><br><span class="line">	<span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.desc</span> &#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">	<span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.up</span> &#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">	<span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info</span> &#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">14px</span> <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">	<span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">	<span class="attribute">padding-top</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info</span> <span class="selector-class">.info-text</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">28px</span>;</span><br><span class="line">	<span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info</span> <span class="selector-class">.info-list</span> &#123;</span><br><span class="line">	<span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">	<span class="attribute">background</span>: transparent <span class="built_in">url</span>(../../images/icons.png) no-repeat top left;</span><br><span class="line">	<span class="attribute">display</span>: inline-block;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">28px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">28px</span>;</span><br><span class="line">	<span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info</span> <span class="selector-class">.icon-play</span> &#123;</span><br><span class="line">	<span class="attribute">background-position</span>: -<span class="number">659px</span> -<span class="number">210px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info</span> <span class="selector-class">.icon-danmu</span> &#123;</span><br><span class="line">	<span class="attribute">background-position</span>: -<span class="number">659px</span> -<span class="number">275px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info</span> <span class="selector-class">.icon-coins</span> &#123;</span><br><span class="line">	<span class="attribute">background-position</span>: -<span class="number">659px</span> -<span class="number">340px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>图标也是用了B站本身的图标，通过<code>background-position</code>来控制显示图标。</p><p>最后成品：</p><p><img src="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-3.png" alt="http://7xokxd.com1.z0.glb.clouddn.com/weixin-bili-3.png"></p><h3 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h3><p>还可以些东西可以做</p><ul><li>分区排行榜</li><li>UP主信息</li><li>视频播放</li><li>视频评论</li></ul><h3 id="注"><a href="#注" class="headerlink" title="注"></a>注</h3><p>使用的B站的接口，都是抓包获取的，可能不怎么正规哈……</p></div></article></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/archives/">Writing</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建立项目"><span class="toc-number">2.</span> <span class="toc-text">建立项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加列表页"><span class="toc-number">3.</span> <span class="toc-text">添加列表页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#详情页"><span class="toc-number">4.</span> <span class="toc-text">详情页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TODO"><span class="toc-number">5.</span> <span class="toc-text">TODO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注"><span class="toc-number">6.</span> <span class="toc-text">注</span></a></li></ol></div><div id="share-footer" style="display:none"><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&text=微信小程序实践-Bilibili排行榜"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&is_video=false&description=微信小程序实践-Bilibili排行榜"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=微信小程序实践-Bilibili排行榜&body=Check out this article: http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&title=微信小程序实践-Bilibili排行榜"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2016/10/09/微信小程序实践-Bilibili排行榜/&name=微信小程序实践-Bilibili排行榜&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><a id="menu" class="icon" href="#" onclick='return $("#nav-footer").toggle(),!1'><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a> <a id="toc" class="icon" href="#" onclick='return $("#toc-footer").toggle(),!1'><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a> <a id="share" class="icon" href="#" onclick='return $("#share-footer").toggle(),!1'><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a> <a id="top" style="display:none" class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2018 Nighting99</div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/archives/">Writing</a></li></ul></nav></div></footer></body></html><link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css"><link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css"><script src="/lib/jquery/jquery.min.js"></script><script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script><script src="/js/main.js"></script>