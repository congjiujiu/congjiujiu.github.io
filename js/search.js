var searchFunc=function(t,e,r){$.ajax({url:t,dataType:"xml",success:function(t){var i=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("link",this).attr("href")}}).get();var a=document.getElementById(e);if(!a){return}var n=document.getElementById(r);a.addEventListener("input",function(){var t='<ul class="search-result-list">';var e=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="";if(this.value.trim().length<=0){return}i.forEach(function(r){var i=true;if(!r.title||r.title.trim()===""){r.title="Untitled"}var a=r.title.trim().toLowerCase();var n=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase();var l=r.url;var s=-1;var c=-1;var f=-1;if(n!==""){e.forEach(function(t,e){s=a.indexOf(t);c=n.indexOf(t);if(s<0&&c<0){i=false}else{if(c<0){c=0}if(e==0){f=c}}})}else{i=false}if(i){t+="<li><a href='"+l+"' class='search-result-title'>"+a+"</a>";var u=r.content.trim().replace(/<[^>]+>/g,"");if(f>=0){var o=f-20;var v=f+80;if(o<0){o=0}if(o==0){v=100}if(v>u.length){v=u.length}var h=u.substr(o,v);e.forEach(function(t){var e=new RegExp(t,"gi");h=h.replace(e,'<em class="search-keyword">'+t+"</em>")});t+='<p class="search-result">'+h+"...</p>"}t+="</li>"}});t+="</ul>";n.innerHTML=t})}})};